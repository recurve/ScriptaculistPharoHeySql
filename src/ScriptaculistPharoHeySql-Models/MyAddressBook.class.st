Class {
	#name : #MyAddressBook,
	#superclass : #MyBaseRecord,
	#instVars : [
		'contacts',
		'displayName'
	],
	#category : #'ScriptaculistPharoHeySql-Models'
}

{ #category : #accessor }
MyAddressBook class >> fetchAll [ 
	     "Autogenerated heysql-method"
	     | result |
	     result := self executePreparedStatementSafe: 'fetchAll_MyAddressBook' values: {  }.
	     ^ (self toObject: result).
	    
]

{ #category : #utility }
MyAddressBook class >> setupDatabaseFields [ 
self dbFields: 'displayName'.
]

{ #category : #utility }
MyAddressBook class >> setupMethodGeneration [
| dict |
dict := Dictionary
		newFrom:
			{('fetchAll' -> 'select * from myaddressbook')}.
	self generateSqlMethods: dict.
]

{ #category : #accessing }
MyAddressBook >> addContact: aContact [
	self contacts add: aContact. 
]

{ #category : #accessing }
MyAddressBook >> contacts [
	contacts ifNil: [ 
			self isPersisted ifTrue: [ 
				contacts := MyContact forAddressBook: self. 
			]. 
			contacts := contacts asOrderedCollection. 
	]. 
	^contacts. 
]

{ #category : #accessing }
MyAddressBook >> displayName [
	^ displayName
]

{ #category : #accessing }
MyAddressBook >> displayName: anObject [
	displayName := anObject
]

{ #category : #accessing }
MyAddressBook >> removeContact: aContact [
	self contacts remove: aContact. 
]
